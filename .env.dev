# Development Environment Configuration
# Production-like setup with nginx reverse proxy + local MongoDB
# Each developer has their own local MongoDB for fast, offline development

# ============================================================================
# LOCAL DEV DATABASE - MONGODB CONTAINER
# ============================================================================
# NOTE: This connects to a local MongoDB container
# Each developer has their own database for fast, offline development
MONGODB_URI=mongodb://admin:admin123@mongo:27017/opd_wallet_dev?authSource=admin
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=admin123
MONGO_INITDB_DATABASE=opd_wallet_dev

# ============================================================================
# JWT & AUTHENTICATION
# ============================================================================
# Shared JWT secret for team (development only - never use in production)
JWT_SECRET=dev_team_shared_secret_2024_do_not_use_in_production
JWT_EXPIRES_IN=7d
COOKIE_NAME=opd_session
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false
COOKIE_HTTPONLY=true
COOKIE_SAMESITE=lax
COOKIE_MAX_AGE=604800000

# ============================================================================
# API & SERVER CONFIGURATION
# ============================================================================
NODE_ENV=development
PORT=4000

# Access via nginx reverse proxy (like production)
# All services available at http://localhost with path-based routing
NEXT_PUBLIC_API_URL=http://localhost/api
ADMIN_URL=http://localhost/admin
MEMBER_URL=http://localhost
DOCTOR_URL=http://localhost/doctor
OPERATIONS_URL=http://localhost/operations
TPA_URL=http://localhost/tpa

# Internal Docker network URLs (for server-side calls)
API_URL=http://api:4000/api

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Jitsi Meet Configuration
JITSI_DOMAIN=meet.jit.si

# Google Maps API (add your key)
# Get key from: https://console.cloud.google.com/google/maps-apis
GOOGLE_MAPS_API_KEY=

# ============================================================================
# SECURITY SETTINGS (Development)
# ============================================================================
BCRYPT_ROUNDS=10
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# CORS Configuration (permissive for development)
CORS_ORIGIN=http://localhost

# ============================================================================
# DEVELOPMENT NOTES
# ============================================================================
#
# HOW TO USE:
# 1. Copy this file if you need custom values: cp .env.dev .env.dev.local
# 2. Add your GOOGLE_MAPS_API_KEY
# 3. Run: make dev-prod-like
# 4. Access: http://localhost (member), http://localhost/admin, http://localhost/doctor
#
# PRODUCTION-LIKE FEATURES:
# - âœ… Nginx reverse proxy on port 80
# - âœ… Path-based routing (/api, /admin, /doctor, /)
# - âœ… Local MongoDB (fast, offline development)
# - âœ… Same URL structure as production
# - âœ… Still supports hot reload for development
#
# DIFFERENCES FROM PRODUCTION:
# - ðŸ”§ Hot reload enabled (file watching)
# - ðŸ”§ Development mode logging
# - ðŸ”§ Relaxed CORS policies
# - ðŸ”§ Longer timeouts for debugging
# - ðŸ”§ No SSL (http instead of https)
# - ðŸ”§ Local database (each developer has their own)
#
